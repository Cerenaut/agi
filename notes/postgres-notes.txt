======================
Useful Commands
======================

	# restart
	sudo /etc/init.d/postgresql  restart

	# tell it to listen not just on localhost in here
	sudo vi /etc/postgresql/9.3/main/postgresql.conf

	# check which ports listening
	netstat -pant

	# set rules about security - who has access from where
	sudo vi /etc/postgresql/9.3/main/pg_hba.conf 

	# connect to postgres
	psql -h db.x.agi.io -U postgres




======================
Steps to setup ec2 postgres
======================

- Make sure the security group allows access to 5432
- On the instance, set security rules to allow connections from specific ip, or to the whole web
	- modify lines in pg_hba.conf
	- this line opens access to the whole web, with encrypted password
	"host    all             all             0.0.0.0/0               md5"

	- this line is to give access to our coordinator node, without a password
	"host    all             all             52.63.253.116/32        trust"
	
	Note: this requires encrypted password. It could also be set to 'trust', which allows any connection.

- On the instance, allow connections from anywhere, by having this line in postgresql.conf
	"listen_addresses='*'" 
- Restart the postgres server

- Make sure you're doing it from a place that doesn't block outgoing connections on this ports (i.e. Outware)


